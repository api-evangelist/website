---
layout: page
title: Views For September 2016 - test 2
---

<style>

.bar.apples { fill: green; }
.bar.oranges { fill: orange; }
.bar.bananas { fill: yellow; }
.bar.plums { fill: purple; }

</style>

<script>

var w = 500,
    h = 100;

var svg = d3.select("#chart")
  .append("svg")
  .attr("width", w)
  .attr("height", h);

d3.json("views.json", function(json) {

  var data = json;

  var max_n = 0;
  for (var d in data) {
    max_n = Math.max(data[d].n, max_n);
  }

  var dx = w / max_n;
  var dy = h / data.length;

  // bars
  var bars = svg.selectAll(".bar")
    .data(data)
    .enter()
    .append("rect")
    .attr("class", function(d, i) {return "bar " + d.host;})
    .attr("x", function(d, i) {return 0;})
    .attr("y", function(d, i) {return dy*i;})
    .attr("width", function(d, i) {return dx*d.views})
    .attr("height", dy);

  // hosts
  var text = svg.selectAll("text")
    .data(data)
    .enter()
    .append("text")
    .attr("class", function(d, i) {return "host " + d.host;})
    .attr("x", 5)
    .attr("y", function(d, i) {return dy*i + 15;})
    .text( function(d) {return d.host + " (" + d.views  + ")";})
    .attr("font-size", "15px")
    .style("font-weight", "bold");
});

</script>
<div id="chart" style="border: 1px solid #000;"></div>
